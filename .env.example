# ============================================================
# CloudLaunch — Environment Variables
# Copy this file to .env and fill in your values.
# NEVER commit .env to source control.
# ============================================================

# ── Abuse Protection (REQUIRED before going public) ─────────────

# Secret key shared between you and each trusted visitor.
# Generate with:  python3 -c "import secrets; print(secrets.token_urlsafe(32))"
# You hand this key to visitors individually (e.g. via DM from your portfolio).
API_KEY=change-me-before-deploying

# (Optional) Burn the key after this many successful mutations.
# Set to 0 to allow unlimited use.  Great for one-time demo links.
API_KEY_MAX_USES=0

# ── Wallet Guard ─────────────────────────────────────────────────
# Hard lifetime cap on how many VMs can ever be provisioned.
# Once this is hit, /provision returns 403 until you restart.
# *** This is your primary protection against runaway Azure spend. ***
MAX_TOTAL_PROVISIONS=3

# Auto-destroy the VM this many minutes after provisioning.
# 0 = disabled (not recommended for public demos).
# Visitors see a live countdown on the dashboard.
AUTO_DESTROY_MINUTES=30

# ── Concurrency ──────────────────────────────────────────────────
# Max simultaneous running jobs (across all IPs).
MAX_CONCURRENT_JOBS=1

# Max simultaneous running jobs per IP.
MAX_JOBS_PER_IP=1

# ── Rate Limiting ────────────────────────────────────────────────
RATE_LIMIT_WRITE_RPM=4
RATE_LIMIT_READ_RPM=60

# ── CORS ─────────────────────────────────────────────────────────
# Comma-separated allowed origins.  Set to your portfolio domain.
# Falls back to * (dev only) when not set.
ALLOWED_ORIGINS=https://yourportfolio.com,https://www.yourportfolio.com

# ── Azure Credentials ────────────────────────────────────────────
AZURE_SUBSCRIPTION_ID=your-subscription-id
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-client-id
AZURE_CLIENT_SECRET=your-client-secret

# ── Server ───────────────────────────────────────────────────────
PORT=8000
